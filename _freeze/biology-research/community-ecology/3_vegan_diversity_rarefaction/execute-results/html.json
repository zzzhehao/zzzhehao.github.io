{
  "hash": "edeaecc590c0e3be2e6d9d0b5d331af1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 3 vegan - diversity, rarefaction, and species richness\ndate: \"August 05, 2024\"\ndraft: true\nexecute: \n  echo: true\n  eval: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(dplyr)\nlibrary(vegan)\nlibrary(readxl)\nlibrary(rmarkdown)\n\nsetwd(\"/Users/hu_zhehao/Library/Mobile Documents/com~apple~CloudDocs/Files/Obsidian/Cafe AgX HQ 2.0/004 Notes/M.Sc. Biology/Community Ecology\")\ncommunity<- read_excel(\"Practice/Diversity_test_data.xlsx\", sheet = \"Test\")\n```\n:::\n\n\n\n# Raw\n\n`?vegdist`: **Gower**, **Bray--Curtis**, indices are good in detecting underlying ecological gradients (Faith et al. 1987). Why using dissimilarity instead similarity?\n\nour samples: rarefaction set to minimal sample size of 5, a descent analysis will take this out and analyse is again.\n\n---\n\n## Data\n\nWe use the data from `Diversity_test_data.xlsx`:\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## Diversity\n### Introduction of diversity index\n\nA diversity index is a mathematical measure of speceis diversity in a given community, it is based on the **species richness** (the number of species present) and the **species abundance** (the number of individuals per species). \n\nThere are two types of diversity indices:\n\n- dominance indices\n- information statistic indices\n\n### Shannon Index (H)\n\n$$\nH = - \\sum^{s}_{i=1}p_i \\ln p_i\n$$\n\nThe **Shannon index** is an information statistic index, which means it assumes all species are represented in a sample and that they are randomly sampled, where $p$ is the proportion ($\\frac{n}{N}$) of individuals of one particular species found ($n$) divided by the total number of individuals found ($N$), and $s$ is the number of species.\n\n### Simpson index (D)\n\n$$\nD = \\frac{1}{ \\sum\\limits^{s}_{i=1} p_i^2}\n$$\nThe **Simpson index** is a dominance index, meaning it gives more weight to common or dominant species. \n\n\n`vegan::diversity()` calculates the ecological diversity indices, with Shannon index being default, Simpson or Invisimpson index can also be choosed.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsimpson <- diversity(community[,3:11], \"simpson\") \nsimpson \n\nshannon <- diversity(community[,3:11])\nshannon #Typically ranges from 1.5 - 3.4, higher = more diverse \n```\n:::\n\n::: {.cell}\n\n:::\n\n\n\nSimpson index shows the probability of randomly drawing two observations given the observations are from different species.\n\nShannon index gives more importance to rare species, therefore shows higher frequency of the intermediate value.\n\n## Dissimilarity\n\n\n\n::: {.cell}\n\n:::\n\n\n\n## Rarefaction, Species richness\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nspAbund <- rowSums(community[,3:11])\nspAbund\nraremin <- min(spAbund)\nraremin\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsRare <- rarefy(community[1,3:11], sample = raremin)\nsRare\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nrequire(reshape2)\ncommunity$transect <- rownames(community[,3:11]) \n\nstr(melt(community))\n#tidyrare <- rarecurve(community[,3:11], tidy = TRUE)\n#paged_table(tidyrare)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}